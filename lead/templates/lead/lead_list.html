{% extends "core/base.html" %}
{% block title %}Leads{% endblock %}
{% block content %}
    
<h3 class="mt-4 mb-3">All Leads</h3>
    <table class="table table-striped table-hover border rounded-5" id="leads" border="0">
        <thead class="border-0">
          <tr>
            <th scope="col">Company Name</th>
            <th scope="col">Email</th>
            <th scope="col">Website</th>
            <th scope="col">Phone</th>
            <th scope="col">Created At</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody class="border-0">
            {% for lead in leads %}
                <tr class="border-0">
                    <td>{{ lead.company_name }}</td>
                    <td>{{ lead.email }}</td>
                    <td>
                        <a href="{{ lead.website }}" target="_blank">{{ lead.website }}</a>
                    </td>
                    <td>{{ lead.phone }}</td>
                    <td>{{ lead.created_at }}</td>
                    <td>{{ lead.action }}</td>
                </tr>
            {% endfor %}
        </tbody>
      </table>

    <div class="flex justify-center mt-4 space-x-45">
        {% if leads.has_previous %}
            <a href="?page={{ leads.previous_page_number }}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-4">Previous</a>
        {% else %}
            <span class="bg-gray-300 text-white font-bold py-2 px-4 rounded mr-14 cursor-not-allowed">Previous</span>
        {% endif %}
        
        {% if leads.has_next %}
            <a href="?page={{ leads.next_page_number }}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-1 rounded">Next</a>
        {% else %}
            <a href="?page={{ leads.next_page_number }}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-1 rounded">Next</a>
        {% endif %}
        {#<a href="?page={{ leads.paginator.num_pages }}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-1 rounded">Last</a>#}
    </div>



    <script>
        $(document).ready(function() {
            $('#leads').DataTable();
        });
    </script>
    
{% endblock %}


